<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>book</title></head><body>140   Глава 14. Сочетаемость компонентов

зависят другие компоненты в меру его абстрактности, и сам он зависит от 

других в меру конкретности .

Самыми желательными позициями для компонента являются конечные 

точки главной последовательности . Хорошие архитекторы стремятся раз-

местить подавляющее большинство компонентов в этих точках . Однако, по 

моему опыту, в большой системе всегда найдется несколько компонентов, 

недостаточно абстрактных и недостаточно устойчивых . Такие компоненты 

обладают великолепными характеристиками, когда располагаются на или 

вблизи главной последовательности .

Расстояние до главной последовательности

Мы подошли к последней нашей метрике . Коль скоро желательно, чтобы 

компонент располагался на или вблизи главной последовательности, можно 

определить метрику, выражающую удаленность компонента от идеала .

 

� D1: расстояние . D = |A+I–1|  . Эта метрика принимает значения из диа-

пазона [0, 1] . Значение 0 указывает, что компонент находится прямо на 

главной последовательности . Значение 1 сообщает, что компонент рас-

полагается на максимальном удалении от главной последовательности .

Взяв на вооружение эту метрику, можно исследовать весь дизайн на бли-

зость к главной последовательности . Метрику D можно вычислить для 

любого компонента . Любой компонент со значением метрики D, далеким 

от нуля, требует пересмотра и реструктуризации .

Также можно выполнить статистический анализ дизайна . Можно найти 

среднее и дисперсию всех метрик D для компонентов в нашей архитектуре . 

Если среднее и дисперсия близки к нулю, значит, весь дизайн находится 

рядом с главной последовательностью . Для дисперсии можно установить 

«контрольные границы» и рассматривать выход за эти границы как признак 

появления компонентов, оказавшихся в «исключительной» зоне, в сравне-

нии с остальными .

На диаграмме рассеяния, изображенной на рис . 14 .14, можно видеть, что 

основная масса компонентов располагается вдоль главной последователь-

ности, но некоторые отклоняются от среднего более чем на одно стандартное 

отклонение (Z = 1) . На эти отклоняющиеся компоненты следует обратить 

особое внимание . По каким-то причинам они оказались слишком абстракт-

1 В предыдущих публикациях я дал этой метрике имя В’ . Теперь я не вижу причин про-

должать эту практику .

Принцип устойчивости абстракций      141

ными и с малым количеством входящих зависимостей или слишком кон-

кретными и с большим количеством входящих зависимостей .

Главная последовательность

Рис. 14.14. Диаграмма рассеяния компонентов

Другой интересный способ использования метрик — построение графика 

изменения метрики D каждого компонента с течением времени . График на 

рис . 14 .15 демонстрирует изменение метрики D вымышленного компонента . 

Можно заметить, что в последних нескольких выпусках в компонент Payroll 

проникли какие-то странные зависимости . На график нанесен контрольный 

порог для D = 0 .1 . В точке R2 .1 порог оказался превышен, поэтому стоит 

побеспокоиться и узнать, почему компонент отдалился от главной после-

довательности .

Пакет: Payroll

Выпуск

Рис. 14.15. График изменения метрики D компонента с течением времени

142   Глава 14. Сочетаемость компонентов

Заключение

Метрики управления зависимостями, описанные в этой главе, помогают 

получить количественную оценку соответствия структуры зависимостей 

и абстракции дизайна тому, что я называю «хорошим» дизайном . Как по-

казывает опыт, есть хорошие зависимости, есть плохие . Данная оценка 

отражает этот опыт . Однако метрики не являются истиной в последней 

инстанции; это всего лишь измерения на основе произвольного стандар-

та . Эти метрики несовершенны — в лучшем случае, но я надеюсь, что вы 

найдете их полезными .

V  

Архитектура

15 Что такое 

архитектура

Что такое архитектура      145

Слово «архитектура» вызывает ассоциации с такими понятиями, как власть 

и тайна . Оно заставляет нас воображать себе важные решения и высочайшее 

техническое мастерство . Архитектура программного обеспечения находится 

на вершине технических достижений . Думая об архитекторе программного 

обеспечения, мы представляем кого-то, обладающего властью и пользую-

щегося непререкаемым авторитетом . Какой молодой и целеустремленный 

разработчик не мечтает стать архитектором?

Но что такое «архитектура программного обеспечения»? Что делает архи-

тектор программного обеспечения и когда он это делает?

Прежде всего, архитектор программного обеспечения — это программист; 

и он продолжает оставаться таковым . Не верьте, если кто-то вам скажет, 

что архитекторы не занимаются программированием и решают проблемы 

более высокого уровня . Это не так! Архитекторы — это лучшие програм-

мисты, и они продолжают заниматься программированием, но при этом 

направляют других членов команды в сторону дизайна, максимизирующего 

продуктивность . Архитекторы могут писать не так много кода, как другие 

программисты, но они продолжают программировать . Они делают это, по-

тому что не смогут справиться со своей работой, если не будут испытывать 

проблем, которые сами создают для других программистов .

Архитектура программной системы — это форма, которая придается системе 

ее создателями . Эта форма образуется делением системы на компоненты, 

их организацией и определением способов взаимодействий между ними .

Цель формы — упростить разработку, развертывание и сопровождение про-

граммной системы, содержащейся в ней .

Главная стратегия такого упрощения в том, чтобы как можно дольше иметь 

как можно больше вариантов.

Возможно, это утверждение удивило вас . Может быть, вы считали, что глав-

ной целью архитектуры программного обеспечения является правильное 

функционирование системы . Конечно, все мы хотим, чтобы наши системы 

работали правильно, и для архитектуры это должно быть одним из высших 

приоритетов .

Однако архитектура системы слабо влияет на работу системы . Существует 
</body></html>