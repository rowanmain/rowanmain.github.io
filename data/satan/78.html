<!DOCTYPE html>
<html>
<head>
   <title>Моя статья</title>
   <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<style>
body {
   background-color: #f0f0f0;
   font-family: Arial, sans-serif;
}

header {
   background-color: #333;
   color: white;
   padding: 10px;
   text-align: center;
}

h1 {
   margin: 0;
}

article {
   margin: 20px;
}

h2 {
   color: #333;
}

p {
   line-height: 1.6;
}
</style>
<body>
   <header>
       <h1>статья</h1>
   </header>
   <article>
       <p>
Авторы видеофильмов должны предоставлять свои видеофайлы, сопрово-

ждая их описанием и вспомогательными файлами с контрольными вопро-

сами, решениями, исходным кодом и другими материалами .

Администраторам необходимо добавлять новые видеоролики, добавлять 

видеоролики в серию и удалять их, а также устанавливать цены на различ-

ные лицензии .

Администраторы должны добавлять коллекции видеофильмов, удалять 

коллекции и устанавливать цены на различные лицензии .

Наш первый шаг в определении начальной архитектуры системы — выяв-

ление действующих лиц и вариантов использования .

Анализ вариантов использования

На рис . 33 .1 изображена схема типичного анализа вариантов использо-

вания .

284   Глава 33. Практический пример: продажа видео

Автор

Покупатель

Зритель

Администратор

Отправляет

файл MP4

Покупает

лицензию

на загрузку

копии

Покупает

бизнес-лицензию

Просматривает

каталог

как покупатель

Просматривает

каталог

как зритель

Просматривает

потоковое

видео

Загружает

видеофильм

Покупает

лицензию

Просмотр

каталога

Добавляет

новые

коллекции

Публикует

видеофильмы

из коллекций

Удаляет

видеофильмы

из коллекций

Устанавливает

цены

на лицензии

Отправляет

контрольные

вопросы

Отправляет

описание

видеофильма

Покупает

лицензию

на просмотр

потокового

видео

Рис. 33.1. Типичный анализ вариантов использования

На этой схеме изображены четыре действующих лица . В соответствии 

с принципом единственной ответственности, эти четыре действующих лица 

станут основными источниками изменений для системы . Добавление любых 

новых возможностей или изменение существующих будет выполняться ради 

обслуживания одного из действующих лиц . Поэтому мы должны разбить 

систему так, чтобы изменения, предназначенные для одного действующего 

лица, не затрагивали других .

На рис . 33 .1 изображены не все варианты использования . Например, на схе-

ме отсутствуют варианты, отвечающие за вход и выход . Это сделано специ-

ально, чтобы упростить задачу и ограничить ее размер . Если бы я включил 

все возможные варианты использования, эта глава могла бы превратиться 

в самостоятельную книгу .

Компонентная архитектура      285

Обратите внимание на варианты использования в центре на рис . 33 .1, заклю-

ченные в пунктирные рамки . Это абстрактные1 варианты использования . 

Абстрактным называется такой вариант использования, который определяет 

общую политику для других вариантов использования . Как видите, абстракт-

ный вариант использования Просмотр каталога наследуют варианты Про-

сматривает каталог как зритель и Просматривает каталог как покупатель .

С одной стороны, эту абстракцию можно было не создавать . Я мог бы убрать 

абстрактный вариант использования из схемы без ущерба для каких-либо 

особенностей продукта . С другой стороны, эти два варианта использования 

настолько похожи, что я счел разумным признать сходство и найти способ 

унифицировать его с самого начала .

Компонентная архитектура

Теперь, когда известны действующие лица и варианты использования, мож-

но создать предварительную компонентную архитектуру (рис . 33 .2) .

Представ-

ления

для админист-

ратора

Презентаторы

для админист-

ратора

Интеракторы 

</p>
   </article>
</body>
</html>
