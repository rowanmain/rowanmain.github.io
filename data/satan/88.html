<!DOCTYPE html>
<html>
<head>
   <title>Моя статья</title>
   <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<style>
body {
   background-color: #f0f0f0;
   font-family: Arial, sans-serif;
}

header {
   background-color: #333;
   color: white;
   padding: 10px;
   text-align: center;
}

h1 {
   margin: 0;
}

article {
   margin: 20px;
}

h2 {
   color: #333;
}

p {
   line-height: 1.6;
}
</style>
<body>
   <header>
       <h1>статья</h1>
   </header>
   <article>
       <p>
граммирования для управления лазером. В действительности язык имел множе-

ство связей с уровнями, лежащими ниже. Скорее этот подход дал прикладным 

программистам более «простой» язык, чем ассемблер M356, на котором они 

описывали свои задания для лазерной обработки.

Система могла загружать такие программы с ленты и выполнять их. По сути, 

наша система была операционной системой для приложений лазерной обработки.

Система была написана на ассемблере M365 и компилировалась в единственную 

единицу компиляции с абсолютным двоичным кодом.

Границы в этом приложении в лучшем случае были мягкими. Даже граница 

между системным кодом и приложениями на DSL не имела строгой силы. По-

всюду были связи.

Но это было типично для программного обеспечения начала 1970-х.

Контроль алюминиевого литья под давлением   317

Контроль алюминиевого литья 

под давлением

В середине 1970-х годов, когда организация ОПЕК вводила эмбарго на поставки 

нефти, а дефицит бензина провоцировал на заправочных станциях драки между 

озлобленными водителями, я поступил на работу в Outboard Marine Corporation 

(OMC). Это была головная компания, объединившая Johnson Motors и Lawnboy 

Lawnmowers.

OMC имела большое производство в Уокигане, штат Иллинойс, по произ-

водству литых алюминиевых деталей для всех видов двигателей и изделий, 

изготавливаемых компанией. Алюминий расплавлялся в огромных печах и за-

тем в ковшах перевозился к десяткам и десяткам машин для литья. Каждой 

машиной управлял человек-оператор, отвечавший за установку изложниц, 

выполнение цикла литья и извлечение готовых деталей. Зарплата операторов 

зависела от количества отлитых деталей.

Меня наняли для разработки проекта по автоматизации цеха. OMC приобрела 

ЭВМ IBM System/7, которая была ответом IBM на появление мини-компьюте-

ров. Они связали этот компьютер со всеми машинами для литья в цехе, чтобы 

мы могли подсчитать время работы и количество циклов каждой машины. Наша 

задача заключалась в том, чтобы собрать всю эту информацию и вывести ее на 

зеленые экраны терминалов 3270.

Программы для этой машины писались на языке ассемблера. И снова весь 

код, выполнявшийся на этом компьютере, был написан нами до последнего 

бита. У нас не было ни операционной системы, ни библиотек подпрограмм, ни 

фреймворков. Это был просто код.

Причем это был код, управляемый прерываниями и действующий в режиме 

реального времени. Каждый раз, когда какая-то машина завершала цикл, мы 

обновляли пакет статистических данных и посылали сообщение большой ЭВМ 

IBM 370, где работала программа на CICS-COBOL, выводившая эти данные на 

зеленые экраны.

Я ненавидел эту работу. Боже, как я ее ненавидел. Нет, сама работа была ин-

тересной! Но культура... Достаточно сказать, что я был обязан носить галстук.

Я старался. Я очень старался. Но я был очень недоволен этой работой, и мои 

коллеги знали об этом. Они понимали это, потому что я забывал важные даты 

или просыпал в дни, когда надо было рано вставать, чтобы прийти на важное 

совещание. Это была единственная работа, связанная с программированием, 

с которой меня уволили, — и поделом.

С архитектурной точки зрения в этой системе нет ничего поучительного, кро-

ме одного. ЭВМ System/7 имела очень интересную инструкцию установки 

программного прерывания SPI (Set Program Interrupt). Она позволяла вызвать 

318   Приложение. Архитектурная археология

прерывание процессора, чтобы обработать любые другие низкоприоритетные 

прерывания, стоящие в очереди. В современном языке Java имеется схожий 

аналог, который называется Thread.yield().

4-TEL

В октябре 1976 года, после увольнения из OMC, я вернулся в Teradyne, но 

в другое подразделение, где я проработал следующие 12 лет. Там я занимался 

проектом под названием 4-TEL. Его целью было еженощное тестирование всех 

телефонных линий, обслуживаемых компанией, и создание отчета с перечисле-

нием всех линий, требующих ремонта. Это позволяло сосредоточить внимание 

обслуживающего персонала на конкретных телефонных линиях.

Эта система начинала свой путь с той же архитектуры, что и система Laser Trim. 

Это было монолитное приложение, написанное на языке ассемблера и не имев-

шее каких-то значительных границ. Но в то время, когда я вернулся в компанию, 

все должно было измениться.

Система использовалась сотрудниками сервисного центра (Service Center; 

SC). Сервисный центр охватывал несколько телефонных станций (Central 

Offices; CO), каждый из которых мог обслуживать до 10 000 телефонных ли-

ний. Аппаратура переключения линий и измерения уровня сигнала должна 

была размещаться в телефонных станциях (CO). Поэтому мы установили там 

компьютеры M365. Мы называли их тестерами линий в телефонных станциях 

(Central Office Line Testers; COLTs). Еще один M365 находился в сервисном 

центре (SC); он назывался компьютером зоны обслуживания (Service Area 

Computer; SAC). К компьютеру SAC было подключено несколько модемов для 

обмена данными с несколькими компьютерами COLT на скорости 300 бод (30 

символов в секунду).

Сначала всю работу выполняли компьютеры COLT, включая все взаимодей-

ствия с консолями, обслуживание меню и составление отчетов. Компьютер 

SAC играл роль простого мультиплексора, получавшего данные от компьютеров 

COLT и выводившего их на экран.

Проблема такой организации состояла в том, что скорость 30 символов в секун-

ду действительно была слишком маленькой. Работникам не очень нравилось 

наблюдать, как появляются символы на экране, особенно если учесть, что их 

интересовал небольшой объем ключевых данных. Кроме того, в те дни опера-

тивная память в M365 стоила очень дорого, а программа была большой.

Поэтому было решено отделить часть программы, осуществляющую тести-

рование линий, от части, анализирующей результаты и печатающей отчеты. 

Последнюю предполагалось перенести на компьютер SAC, а первая должна 

была продолжать работать на компьютерах COLT. Это должно было позво-

4-TEL   319

лить использовать в качестве COLT машины поменьше, с меньшим объемом 

памяти, и значительно повысить скорость вывода информации на терминал, 

потому что отчеты должны были генерироваться на компьютере SAC.

Результат превзошел самые смелые ожидания. Информация на экране обнов-

лялась очень быстро (после соединения с соответствующим компьютером 

COLT), а объем памяти в компьютерах COLT значительно уменьшился.

Граница получилась очень четкой и надежной. Компьютеры SAC и COLT обме-

нивались очень короткими пакетами. Эти пакеты были очень простой формой 

</p>
   </article>
</body>
</html>
